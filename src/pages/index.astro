---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// Get recent blog posts
const allPosts = await getCollection('blog', ({ data }) => !data.draft);
const recentPosts = allPosts
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, 3);

// Projects data
const projects = [
  {
    title: "WhereToPlant",
    description: "AI-powered Telegram bot that analyzes 30+ environmental parameters to predict plantation success with ~80% accuracy. Used by HP Forest Department across 795K+ land parcels.",
    links: [
      { label: "Try Bot", href: "https://t.me/wheretoplantbot" },
      { label: "RootIQ", href: "https://rootiq.org" },
    ],
    tags: ["AI", "ML", "Conservation", "RootIQ"]
  },
  {
    title: "Distributed Task Scheduler",
    description: "High-performance distributed task scheduling system with advanced algorithms and fault tolerance, built in Go.",
    links: [
      { label: "GitHub", href: "https://github.com/rishhavv/distributed-task-scheduler" },
      { label: "Paper", href: "https://zenodo.org/records/14633463" }
    ],
    tags: ["Go", "Distributed Systems"]
  },
  {
    title: "EduCloud",
    description: "Cloud-based educational platform for seamless learning and collaboration.",
    links: [
      { label: "GitHub", href: "https://github.com/JIIT-PUSH/EduCloud" }
    ],
    tags: ["Education", "Cloud"]
  }
];

const technologies = [
  "Python", "Go", "TypeScript", "React", 
  "LangChain", "Kubernetes", "Redis", "Kafka"
];
---

<BaseLayout title="Rishav Katoch">
  <div class="container">
    <!-- Hero Section -->
    <section class="hero fade-in">
      <h1 class="hero-title">Rishav Katoch</h1>
      <p class="hero-subtitle">Computer Engineer & Deep Tech Enthusiast</p>
      
      <div class="hero-bio">
        <p>
          Hi there! I'm a passionate developer from India, working on exciting projects 
          in LLMs and deep tech. Currently building at the intersection of AI and 
          real-world impact.
        </p>
        <p>
          I founded <a href="https://rootiq.org" target="_blank" rel="noopener">RootIQ Labs</a> — 
          we're revolutionizing forest restoration through AI-powered site selection. 
          Our flagship product, <strong>WhereToPlant</strong>, analyzes 30+ environmental parameters 
          to predict plantation success with ~80% accuracy. We've analyzed 795,000+ land parcels 
          across Himachal Pradesh and are trusted by the HP Forest Department for data-driven 
          restoration decisions.
        </p>
        <p class="hero-tagline">
          <em>Rooted in Science, Growing with Communities.</em>
        </p>
      </div>
      
      <div class="tech-stack fade-in stagger-2">
        {technologies.map(tech => (
          <span class="tech-badge">{tech}</span>
        ))}
      </div>
    </section>
    
    <!-- Projects Section -->
    <section class="section fade-in stagger-3">
      <h2 class="section-title">Projects</h2>
      
      <div class="projects-grid">
        {projects.map(project => (
          <article class="project-card">
            <h3 class="project-title">{project.title}</h3>
            <p class="project-description">{project.description}</p>
            
            <div class="project-tags">
              {project.tags.map(tag => (
                <span class="project-tag">{tag}</span>
              ))}
            </div>
            
            <div class="project-links">
              {project.links.map(link => (
                <a href={link.href} target="_blank" rel="noopener" class="project-link">
                  {link.label}
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="7" y1="17" x2="17" y2="7"></line>
                    <polyline points="7 7 17 7 17 17"></polyline>
                  </svg>
                </a>
              ))}
            </div>
          </article>
        ))}
      </div>
      
      <a href="https://github.com/rishhavv" class="view-all-link" target="_blank" rel="noopener">
        View all projects on GitHub →
      </a>
    </section>
    
    <!-- Recent Posts Section -->
    <section class="section fade-in stagger-4">
      <h2 class="section-title">Recent Writing</h2>
      
      {recentPosts.length > 0 ? (
        <div class="posts-list">
          {recentPosts.map(post => (
            <a href={`/blog/${post.slug}`} class="post-card">
              <div class="post-info">
                <h3 class="post-title">{post.data.title}</h3>
                <p class="post-description">{post.data.description}</p>
              </div>
              <time class="post-date" datetime={post.data.date.toISOString()}>
                {new Date(post.data.date).toLocaleDateString('en-US', {
                  year: 'numeric',
                  month: 'short',
                  day: 'numeric'
                })}
              </time>
            </a>
          ))}
        </div>
      ) : (
        <p class="empty-state">No posts yet. Check back soon!</p>
      )}
      
      <a href="/blog" class="view-all-link">
        View all posts →
      </a>
    </section>
    
    <!-- Research Section -->
    <section class="section fade-in stagger-5">
      <h2 class="section-title">Research</h2>
      
      <article class="research-card">
        <h3 class="research-title">Comparative Analysis of Scheduling Algorithms in Distributed Task Schedulers</h3>
        <p class="research-meta">January 2025</p>
        <p class="research-description">
          A comprehensive study of scheduling algorithms in distributed systems, evaluating 
          Round-Robin, FCFS, and Least-Loaded approaches using a Golang-based framework.
        </p>
        <div class="research-links">
          <a href="https://zenodo.org/records/14633463" target="_blank" rel="noopener" class="research-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <line x1="16" y1="13" x2="8" y2="13"></line>
              <line x1="16" y1="17" x2="8" y2="17"></line>
              <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
            View Paper
          </a>
          <a href="https://github.com/rishhavv/distributed-task-scheduler" target="_blank" rel="noopener" class="research-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg>
            Code
          </a>
        </div>
      </article>
    </section>
  </div>
</BaseLayout>

<style>
  .container {
    max-width: 900px;
  }
  
  /* Hero */
  .hero {
    padding: var(--space-2xl) 0 var(--space-3xl);
    border-bottom: 1px solid var(--color-border);
    margin-bottom: var(--space-3xl);
  }
  
  .hero-title {
    font-size: var(--text-3xl);
    font-weight: 700;
    margin-bottom: var(--space-xs);
  }
  
  .hero-subtitle {
    font-family: var(--font-mono);
    font-size: var(--text-base);
    color: var(--color-text-muted);
    margin-bottom: var(--space-xl);
  }
  
  .hero-bio {
    max-width: 600px;
  }
  
  .hero-bio p {
    color: var(--color-text);
    margin-bottom: var(--space-md);
  }
  
  .hero-bio a {
    color: var(--color-accent);
    font-weight: 500;
  }
  
  .hero-tagline {
    color: var(--color-text-muted);
    font-size: var(--text-sm);
    margin-top: var(--space-md);
    margin-bottom: 0;
  }
  
  .tech-stack {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    margin-top: var(--space-xl);
  }
  
  .tech-badge {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    background-color: var(--color-bg-alt);
    color: var(--color-text);
    padding: var(--space-xs) var(--space-sm);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
  }
  
  /* Sections */
  .section {
    margin-bottom: var(--space-3xl);
  }
  
  .section-title {
    font-size: var(--text-xl);
    font-weight: 600;
    margin-bottom: var(--space-xl);
    margin-top: 0;
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--color-text);
    display: inline-block;
  }
  
  /* Projects */
  .projects-grid {
    display: grid;
    gap: var(--space-lg);
    margin-bottom: var(--space-lg);
  }
  
  .project-card {
    padding: var(--space-lg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
  }
  
  .project-card:hover {
    border-color: var(--color-border-strong);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  }
  
  [data-theme="dark"] .project-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  .project-title {
    font-size: var(--text-lg);
    font-weight: 600;
    margin-bottom: var(--space-sm);
    margin-top: 0;
  }
  
  .project-description {
    color: var(--color-text-muted);
    font-size: var(--text-sm);
    margin-bottom: var(--space-md);
    line-height: 1.6;
  }
  
  .project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-bottom: var(--space-md);
  }
  
  .project-tag {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-accent);
    background-color: rgba(196, 93, 62, 0.1);
    padding: 2px var(--space-sm);
    border-radius: var(--radius-sm);
  }
  
  [data-theme="dark"] .project-tag {
    background-color: rgba(224, 122, 95, 0.15);
  }
  
  .project-links {
    display: flex;
    gap: var(--space-md);
  }
  
  .project-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--color-text);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .project-link:hover {
    color: var(--color-accent);
  }
  
  /* Posts */
  .posts-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
  }
  
  .post-card {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-lg);
    padding: var(--space-md) var(--space-lg);
    margin: 0 calc(-1 * var(--space-lg));
    border-radius: var(--radius-md);
    text-decoration: none;
    transition: background-color var(--transition-fast);
  }
  
  .post-card:hover {
    background-color: var(--color-bg-alt);
  }
  
  .post-info {
    flex: 1;
  }
  
  .post-card .post-title {
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 var(--space-xs) 0;
  }
  
  .post-card .post-description {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.5;
  }
  
  .post-date {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-text-faint);
    white-space: nowrap;
  }
  
  .empty-state {
    color: var(--color-text-muted);
    font-style: italic;
  }
  
  .view-all-link {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .view-all-link:hover {
    color: var(--color-accent);
  }
  
  /* Research */
  .research-card {
    padding: var(--space-lg);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-md);
  }
  
  .research-title {
    font-size: var(--text-lg);
    font-weight: 600;
    margin: 0 0 var(--space-sm) 0;
  }
  
  .research-meta {
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    margin-bottom: var(--space-md);
  }
  
  .research-description {
    color: var(--color-text-muted);
    font-size: var(--text-sm);
    margin-bottom: var(--space-lg);
  }
  
  .research-links {
    display: flex;
    gap: var(--space-lg);
  }
  
  .research-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    color: var(--color-text);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .research-link:hover {
    color: var(--color-accent);
  }
  
  @media (max-width: 640px) {
    .post-card {
      flex-direction: column;
      gap: var(--space-xs);
    }
    
    .post-date {
      order: -1;
    }
    
    .projects-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

